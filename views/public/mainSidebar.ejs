<div class="ui sidebar right inverted vertical menu" id="mainSidebar" style="width: 400px;">
  <div class="ui centered grid" style="padding-top:50px; margin:10px;">
      <% if(!me){ %>
        <div id="loginPart">
          <h1>登入</h1>
          <form class="ui form" id="loginForm">
            <div class="field">
              <div id="errormsg"></div>
            </div>
            <div class="field">
              <p>Email</p>
              <input type="text" name="userid" placeholder="Email">
            </div>
            <div class="field">
              <p>Password</p>
              <input type="password" name="password" placeholder="Password">
            </div>
            <div style="display: flex; justify-content: space-around;">
              <a class="ui button" id="loginSubmit" style="width: 100%;">LogIn</a>
              <a class="ui button" href="/users/fblogin" style="width: 100%">FB Login</a>
            </div>
            <div style="display: flex; justify-content: space-around; margin-top: 13px; align-items: baseline;">
              <div class="ui checkbox" style="width: 100%;">
                <input type="checkbox" name="rememberUser">
                <label style="color: white;">Remember me</label>
              </div>
              <a class="ui button" style="width: 85%;">忘記密碼</a>
            </div>
            <div style="display: flex; justify-content: space-around;">
              <a class="ui button" id="signupbtn" style="width: 100%; margin-top: 12px;">Register now</a>
            </div>
          </form>
        </div>
        <div id="signupPart">
          <h1>註冊</h1>
          <form class="ui form" id="signupForm">
              <div class="field">
                  <div id="errormsg"></div>
              </div>
              <div class="field">
                  <p>Email</p>
                  <input type="text" name="email" placeholder="Email">
              </div>
              <div class="field">
                  <p>Password</p>
                  <input type="password" name="password" placeholder="Password">
              </div>
              <div class="field">
                  <p>UserID</p>
                  <input type="text" name="userid" placeholder="User ID">
              </div>
              <div class="field">
                  <p>Name</p>
                  <input type="text" name="username" placeholder="Name">
              </div>
              <div class="ui button" id="signupSubmit">Signup</div>
              <div class="ui button" id="loginbtn">back</div>
          </form>
        </div>
      <% }else{ %>
        <div id="profile">
          <div style="display: flex; justify-content: space-around;">
            <a class="ui button" target="_blank" href='/panel'>後台</a>
            <a class="ui button" id="goSetting">Setting</a>
            <a class="ui button" href="/users/logout">Logout</a>
          </div>
          <div style="display: flex; flex-direction: row; justify-content: space-around; margin-top: 10px;">
            <img style="width:100px; height: 100px; margin-top: 20px" src="/assets/images/profile.png">
            <h3 style="line-height: 80px;"><%= me.Name %></h3>
          </div>

          <div style="text-align: left; margin-top: 20px;">
            <h3>Group: </h3>
            <div>
              <% for(var i = 0; i < me.GroupID.length; i++){ %>
              <button class="ui inverted button info" group-id="<%= me.GroupID[i]._id %>"><%= me.GroupID[i].Name %></button>
              <% } %>
            </div>
            <h3>Project: </h3>
            <div>
              <% for(var i = 0; i < me.ProjectID.length; i++){ %>
              <button class="ui inverted button info" project-id="<%= me.ProjectID[i]._id %>"><%= me.ProjectID[i].Name %></button>
              <% } %>
            </div>
            <h3>Activity: </h3>
            <div>
              <% for(var i = 0; i < me.ActivityID.length; i++){ %>
              <button class="ui inverted button info" activity-id="<%= me.ActivityID[i]._id %>"><%= me.ActivityID[i].Name %></button>
              <% } %>
            </div>
          </div>
        </div>
        <div id="setting" style="display: none; color: white !important;">
          
          <h1>-Setting Profile-</h1>
          <form class="ui form" id="updateForm">
            <div class="field">
              <div class="fields">
                <div class="four wide field" style="text-align: left;">
                  <h3 >Name: </h3>
                </div>
                <div class="twelve wide field">
                  <input type="text" name="name" value="<%= me.Name %>">
                </div>
              </div>
            </div>
            <div class="field">
              <div class="fields">
                <div class="four wide field" style="text-align: left;">
                  <h3 >Major: </h3>
                </div>
                <div class="twelve wide field">
                  <input type="text" name="major" value="<%= me.Major !== undefined ? me.Major : ''%>">
                </div>
              </div>
            </div>
            <div class="field">
              <div class="fields">
                <div class="four wide field" style="text-align: left;">
                  <h3 >Email: </h3>
                </div>
                <div class="twelve wide field">
                  <input type="text" name="email" value="<%= me.Email %>">
                </div>
              </div>
            </div>
            <div class="field">
              <div class="fields">
                <div class="four wide field" style="text-align: left;">
                  <h3 >Location: </h3>
                </div>
                <div class="twelve wide field">
                  <input type="text" name="location" value="<%= me.Location !== undefined ? me.Location : ''%>">
                </div>
              </div>
            </div>
            <div class="fields">
              <div class="four wide field" style="text-align: left;">
                <h3>Skill: </h3>
              </div>
              <div class="twelve wide field">
                <div class="ui right labeled left icon input">
                  <i class="tags icon"></i>
                  <input type="text" placeholder="Enter Skill" name="textSkill">
                  <a class="ui tag label" id="addSkill">
                    Add Skill
                  </a>
                </div>
              </div>
            </div>
            <div class="fields" id="showSkills">
              <div class="four wide field" style="text-align: left;">
                <h3></h3>
              </div>
              <% for(var i = 0; i < me.Skill.length; i++){ %>
                <a class="ui tag label"><%= me.Skill[i] %><i class="icon close"></i></a>
              <% } %>
            </div>
            <div class="field">
              <h3 style="text-align: left;">Introduction: </h3>
              <textarea name="introduction" value="<%= me.Introduction %>"><%= me.Introduction !== undefined ? me.Introduction : ''%></textarea>
            </div>
<!--             <div class="field">
              <div class="fields">
                <div class="two wide field" style="text-align: left;">
                  <h3 >Group: </h3>
                </div>
              </div>
            </div>
            <div class="field">
              <div class="fields">
                <div class="two wide field" style="text-align: left;">
                  <h3 >Project: </h3>
                </div>
              </div>
            </div>
            <div class="field">
              <div class="fields">
                <div class="two wide field" style="text-align: left;">
                  <h3 >Activity: </h3>
                </div>
              </div>
            </div>
            <div class="field">
              <div class="fields">
                <div class="two wide field" style="text-align: left;">
                  <h3 >portfolio: </h3>
                </div>
              </div>
            </div> -->
            <div class="ui button" tabindex="0" id="updateProfile">Done</div>
            <div class="ui button" id="backProfile">back</div>
          </form>
<!--           <h1>-Setting Account-</h1>
          <button class="ui button">重設密碼</button>
          <h1>-Setting Notification-</h1>
          <div class="ui toggle checkbox">
            <input type="checkbox" name="public">
            <label style="color: white !important;">訊息用email通知</label>
          </div> -->
        </div>
      <% } %>
  </div>
</div>
<!-- <div class="ui black big left attached launch button R">
    <span class="text"></span>
    <a class="item">
      <i class="mail icon"></i>
      Message
    </a>
    <span class="text">search</span>
</div> -->
<div class="ui vertical icon menu inverted" id="rightSidebar">
  <a class="item" id="profilebtn">
    <i class="user icon"></i>
  </a>
  <% if(me){ %>
  <a class="item" id="msgbtn">
    <i class="mail icon"></i>
  </a>
  <% } %>
  <a class="item searchbtn">
    <i class="search icon" ></i>
  </a>
</div>

<style>
#searchSidebar.animating.visible ~ #rightSidebar {
  -webkit-transform: translate3d(-260px, 0, 0);
  transform: translate3d(-260px, 0, 0);
  transition: 0.5s all;
}

#searchSidebar.visible ~ #rightSidebar {
  -webkit-transform: translate3d(-260px, 0, 0);
  transform: translate3d(-260px, 0, 0);
  transition: 0s all;
}

#searchSidebar.animating:not(visible) ~ #rightSidebar {
  -webkit-transform: translate3d(0px, 0, 0);
  transform: translate3d(0px, 0, 0);
  transition: 0.5s all;
}


.ui.vertical.icon.menu{
    position: fixed;
    z-index: 3;
    right: -3px;
}  


</style>
